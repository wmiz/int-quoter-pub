{% comment %}
  Set the app URL for API calls
  In production, this should be set to your app's URL (e.g., https://your-app.ngrok.io or your production domain)
  For now, we'll try to construct it or use a relative path
{% endcomment %}
<style>
  {% if block.settings.disable_buy_it_now %}
    shopify-accelerated-checkout {
      display: none;
    }
  {% endif %}
</style>

<script>
  // Set app URL for geo-quote.js
  // This should be your app's base URL (without trailing slash)
  // Example: window.geoQuoteAppUrl = 'https://your-app-domain.com';
  // If not set, the script will try to use a relative path
  window.geoQuoteAppUrl = window.geoQuoteAppUrl || '';
</script>
<script src="{{ 'geo-quote.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "GeoQuote",
  "target": "head",
  "settings": [
    {
      "type": "checkbox",
      "id": "disable_buy_it_now",
      "label": "Disable Accelerated Checkout Buttons for Quote Request Countries",
      "default": true
    }
  ]
}
{% endschema %}
